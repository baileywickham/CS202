.ORIG x3300
ST R7, SAVE_R73
JSR NOT_GETC
JSR NOT_OUT
ADD R0, R0, #-16
ADD R0, R0, #-16
ADD R0, R0, #-16
;JSR NOT_OUT
LD R7, SAVE_R73
RET
SAVE_R73 .FILL x0000

NOT_OUT ST R7, SAVE_R7
ST R1, SAVE_R1
AGAIN LDI R1, STATUS
BRzp AGAIN
STI  R0, DATA
LD R1, SAVE_R1
LD R7, SAVE_R7
RET
STATUS .FILL xFE04 ;Status
DATA .FILL xFE06 ;DATA
SAVE_R1 .FILL x0000
SAVE_R7 .FILL x0000

NOT_GETC ST R7, SAVE_R72
P LDI R0, KBSR
BRzp P
LDI R0, KBDR
LD R7, SAVE_R72
RET

SAVE_R72 .FILL x0000
KBSR .FILL xFE00
KBDR .FILL xFE02
.END
